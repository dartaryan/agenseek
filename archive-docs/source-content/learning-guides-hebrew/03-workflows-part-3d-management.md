# מדריך וורקפלואים - חלק 3D: ניהול ספרינט (Phase 4)

<div dir="rtl">

## 📋 תוכן עניינים

1. [מבוא לניהול הספרינט](#מבוא)
2. [correct-course - ניווט שינויים](#correct-course)
3. [retrospective - רטרוספקטיבה](#retrospective)

---

## 🎯 מבוא לניהול הספרינט {#מבוא}

### מה זה ניהול ספרינט ב-Phase 4?

Phase 4 היא שלב הפיתוח והמימוש, אבל לא תמיד הכל הולך לפי התוכנית. בתהליך הפיתוח מגלים בעיות, מבינים דברים אחרת, ולפעמים צריך לשנות כיוון.

**שני הוורקפלואים בחלק זה עוזרים לנהל את תהליך הספרינט בצורה מקצועית:**

1. **correct-course** - מנווט שינויים משמעותיים במהלך הספרינט
2. **retrospective** - בוחן מה היה טוב ומה אפשר לשפר אחרי שמסיימים אפיק

### מתי משתמשים בוורקפלואים האלה?

**correct-course:** משתמשים כשמתגלה בעיה או שינוי משמעותי במהלך הפיתוח (לא כל יום!)

**retrospective:** משתמשים אחרי שמסיימים אפיק שלם (Epic), לפני שעוברים לאפיק הבא

### מה ההבדל ביניהם?

- **correct-course** = תיקון בזמן אמת (reactive) - פותרים בעיה שהתגלתה
- **retrospective** = למידה ושיפור (proactive) - מסכמים ומתכננים מראש

---

## 🔄 correct-course - ניווט שינויים בספרינט {#correct-course}

**שם באנגלית:** correct-course  
**מודול:** BMM (BMAD Method)  
**פאזה:** Phase 4 - Implementation (Management)  
**סטטוס:** As-Needed (לפי צורך)

### 🎯 מטרה

הוורקפלואו `correct-course` עוזר לך לנווט שינויים משמעותיים שמתגלים במהלך הספרינט. כשמתגלה בעיה טכנית, דרישה חדשה, או הבנה שגויה של הדרישות - הוורקפלואו הזה עוזר לנתח את ההשפעה, להציע פתרונות, ולעדכן את התוכניות.

**במילים פשוטות:** כשמשהו משתבש או משתנה באמצע הפיתוח - הוורקפלואו הזה עוזר לך להחליט מה לעשות.

### 📥 תשומות נדרשות

לפני הרצת הוורקפלואו, וודאו שיש לכם:
- ✅ תיאור ברור של הבעיה או השינוי שהתגלה
- ✅ הסיפור (Story) שבו התגלתה הבעיה
- ✅ גישה למסמכי הפרויקט (PRD, Epics, Architecture, UI/UX)
- ✅ הבנה ברורה מה הדליק את ה"נורה האדומה"

**אין צורך:**
- ❌ פתרון מוכן מראש - הוורקפלואו יעזור לך למצוא פתרון
- ❌ החלטה מה לעשות - הוורקפלואו ילווה אותך בקבלת ההחלטה

### 📤 פלט צפוי

הוורקפלואו יוצר מסמך מקיף בשם: **Sprint Change Proposal** (`sprint-change-proposal-{תאריך}.md`)

**המסמך כולל:**

1. **סיכום הבעיה** - מה קרה, איך התגלתה הבעיה, מה העדויות
2. **ניתוח השפעה** - על אילו אפיקים וסיפורים זה משפיע
3. **גישה מומלצת** - האם לתקן, לבטל שינויים, או להקטין את ה-MVP
4. **הצעות שינוי מפורטות** - שינויים ספציפיים במסמכים (לפני/אחרי)
5. **תכנית יישום** - למי להעביר את השינוי וכיצד ליישם

### 🔧 תהליך העבודה (6 שלבים)

#### שלב 1: איתור הבעיה והקשר

הוורקפלואו ישאל אותך:
- מה הבעיה שהתגלתה?
- באיזה סיפור זה קרה?
- האם יש לך גישה למסמכי הפרויקט?

**אופן עבודה:** תוכל לבחור בין:
- **Incremental** (מומלץ) - כל שינוי נבדק ומאושר בנפרד
- **Batch** - כל השינויים מוצגים ביחד בסוף

#### שלב 2: הרצת Checklist מקיף

הוורקפלואו ילווה אותך דרך checklist שיטתי שבודק:

**א. הבנת הטריגר והקשר:**
- איזה סיפור חשף את הבעיה?
- מה סוג הבעיה? (טכנית, דרישה חדשה, אי הבנה, pivot אסטרטגי)
- מה העדויות לבעיה?

**ב. השפעה על האפיקים:**
- האם האפיק הנוכחי עדיין ניתן להשלמה?
- האם האפיקים הבאים מושפעים?
- האם המטרות העסקיות עדיין רלוונטיות?

**ג. השפעה על המסמכים:**
- האם ה-PRD נכון? צריך עדכון?
- האם האדריכלות עדיין תואמת?
- האם מפרטי ה-UI/UX צריכים עדכון?

**ד. השפעה טכנית:**
- האם הקוד שכבר נכתב צריך שינוי?
- האם יש השלכות על ה-infrastructure?
- האם נוצר חוב טכני (Technical Debt)?

**ה. החלטה על הגישה:**
- האם לבצע התאמה ישירה (Direct Adjustment)?
- האם צריך rollback (ביטול עבודה)?
- האם צריך לשנות את ה-MVP או למחוק פיצ'רים?

#### שלב 3: יצירת הצעות שינוי

הוורקפלואו יעזור לך ליצור הצעות שינוי מפורטות:

**לסיפורים:**
```
Story: [STORY-123] User Authentication
Section: Acceptance Criteria

לפני:
- User can log in with email/password

אחרי:
- User can log in with email/password
- User can enable 2FA via authenticator app

הסבר: דרישת אבטחה שהתגלתה במהלך הפיתוח
```

**ל-PRD/Architecture/UI/UX:**
- מפרט בדיוק איזה סעיפים לעדכן
- מראה את השינוי לפני/אחרי
- מסביר למה זה משפיע

#### שלב 4: הכנת מסמך Sprint Change Proposal

הוורקפלואו מאחד את כל הממצאים למסמך אחד מסודר עם:
- תיאור הבעיה
- ניתוח השפעה מלא
- הגישה המומלצת והסבר
- כל השינויים המפורטים
- תכנית יישום ברורה

#### שלב 5: אישור ומיקוד ליישום

הוורקפלואו ישאל אם אתה מאשר את ההצעה.

**סיווג היקף השינוי:**
- **Minor** - הצוות הטכני יכול ליישם ישירות
- **Moderate** - צריך לארגן מחדש את ה-backlog (PO/SM)
- **Major** - צריך replan מלא (PM/Architect)

הוורקפלואו מעביר את התכנית לאנשים הנכונים בהתאם לסיווג.

#### שלב 6: סיכום וסיום

סיכום של מה נעשה, מי אחראי, ומה הצעדים הבאים.

### 💡 דוגמה מעשית

**תרחיש:** במהלך פיתוח סיפור אימות משתמשים (User Authentication), צוות האבטחה מגלה שצריך להוסיף 2FA (אימות דו-שלבי).

```
1. הפעלת correct-course ← "גיליתי שצריך להוסיף 2FA"
2. הוורקפלואו שואל על הסיפור: "Story 1.2 - User Login"
3. בדיקת checklist:
   - האם זה משפיע על סיפורים נוספים? כן - סיפור 1.3 גם צריך שינוי
   - האם PRD צריך עדכון? כן - צריך להוסיף דרישת אבטחה
   - האם Architecture צריכה עדכון? כן - צריך להוסיף שירות 2FA
4. יצירת הצעות שינוי:
   - עדכון Story 1.2: הוספת acceptance criteria ל-2FA
   - עדכון Story 1.3: הוספת UI ל-2FA setup
   - עדכון PRD: הוספת דרישת אבטחה
   - עדכון Architecture: הוספת 2FA Service component
5. הכנת Sprint Change Proposal מפורט
6. אישור → סיווג: Moderate (צריך PO/SM involvement)
7. הצעה מועברת ל-Product Owner לעדכון backlog
```

### ⚠️ מתי להשתמש ב-correct-course?

**כן - השתמש ב-correct-course כאשר:**
- ✅ מתגלה בעיה טכנית משמעותית שמשפיעה על כמה סיפורים
- ✅ לקוח מבקש שינוי שמשפיע על האפיק הנוכחי או הבא
- ✅ מגלים שהבנתם משהו לא נכון ב-PRD או ב-Architecture
- ✅ משהו לא עובד כפי שתכננו וצריך גישה אחרת

**לא - אל תשתמש ב-correct-course כאשר:**
- ❌ זה באג קטן בסיפור בודד (תקן אותו ישירות)
- ❌ זה שינוי קוסמטי קטן (תעשה אותו כחלק מ-code review)
- ❌ זה שאלת הבהרה (שאל את ה-Product Owner ישירות)

### 🎯 טיפים לשימוש יעיל

1. **אל תחכה יותר מדי** - אם מגלים בעיה משמעותית, תפעיל את correct-course מיד
2. **תכין עדויות** - צילומי מסך, לוגים, הודעות שגיאה - כל מה שמראה את הבעיה
3. **בחר Incremental** - עדיף לאשר כל שינוי בנפרד מאשר לקבל הפתעות בסוף
4. **הבא את כל הצוות** - correct-course עובד טוב יותר כש-PM, Architect, ו-Devs מעורבים

---

## 🔍 retrospective - רטרוספקטיבה לאחר אפיק {#retrospective}

**שם באנגלית:** retrospective  
**מודול:** BMM (BMAD Method)  
**פאזה:** Phase 4 - Implementation (Management)  
**סטטוס:** Highly Recommended (מומלץ מאוד!)

### 🎯 מטרה

הוורקפלואו `retrospective` מריץ ישיבת רטרוספקטיבה מקצועית אחרי שמסיימים אפיק (Epic). הוא בוחן מה היה טוב, מה היה קשה, מה למדנו, ואיך להתכונן לאפיק הבא. זו ישיבת צוות אמיתית עם כל האגנטים, בהנחיית Scrum Master.

**במילים פשוטות:** זמן לעצור, להסתכל אחורה, ללמוד מהטעויות, לחגוג הצלחות, ולהתכונן לאפיק הבא בצורה חכמה יותר.

### 📥 תשומות נדרשות

לפני הרצת הוורקפלואו, וודאו שיש לכם:
- ✅ אפיק שהושלם (או כמעט הושלם)
- ✅ כל קבצי הסיפורים של האפיק (בתיקייה `docs/stories`)
- ✅ `sprint-status.yaml` מעודכן עם סטטוס הסיפורים
- ✅ מסמכי הפרויקט (PRD, Epics, Architecture) - לקונטקסט

**אופציונלי (אבל מועיל):**
- 📌 רטרוספקטיבה של האפיק הקודם (אם קיימת)
- 📌 האפיק הבא כבר מוגדר (Epic N+1)

### 📤 פלט צפוי

הוורקפלואו יוצר מסמך רטרוספקטיבה מפורט: `epic-{מספר}-retro-{תאריך}.md`

**המסמך כולל:**

1. **סיכום האפיק** - מדדים: כמה סיפורים הושלמו, כמה זמן לקח, איכות
2. **מה היה טוב** - הצלחות, breakthrough moments, עבודת צוות מצוינת
3. **מה היה קשה** - אתגרים, struggles, דברים שהלכו לא כמו שתכננו
4. **תובנות מרכזיות** - מה למדנו? מה היינו עושים אחרת?
5. **מעקב אחר רטרו קודמת** - האם עמדנו בהתחייבויות מהרטרו הקודמת?
6. **הכנה לאפיק הבא** - תלויות, פערים, משימות הכנה
7. **פריטי פעולה (Action Items)** - מה אנחנו מתחייבים לשפר?

**בנוסף:**
- עדכון `sprint-status.yaml` - סימון שהרטרוספקטיבה הושלמה

### 🔧 תהליך העבודה (12 שלבים!)

הוורקפלואו מקיף מאוד, אבל אל תיבהל - זה תהליך מאוד מובנה ומלווה.

#### שלב 1: גילוי האפיק שהושלם

הוורקפלואו מזהה אוטומטית איזה אפיק הושלם:
1. בודק ב-`sprint-status.yaml` - איזה אפיק יש לו כל הסיפורים במצב "done"
2. אם לא בטוח, שואל אותך: "איזה אפיק סיימת?"
3. בודק אם באמת כל הסיפורים סיימו

**אם האפיק לא באמת הושלם:**
הוורקפלואו מציג רשימה של סיפורים שעדיין pending ושואל אם להמשיך בכל זאת.

#### שלב 2: ניתוח עמוק של הסיפורים

הוורקפלואו קורא את **כל קבצי הסיפורים** של האפיק ומחלץ:

**מהערות המפתחים (Dev Notes):**
- איפה נתקעו?
- מה היה יותר מורכב ממה שחשבו?
- החלטות טכניות שלא עבדו?

**מ-Code Reviews:**
- איזה משוב חוזר שוב ושוב?
- איזה בעיות איכות התגלו?
- מה היה מצוין?

**מ-Lessons Learned בסיפורים:**
- מה כתבו המפתחים כ"לקח" מכל סיפור?

**מ-Technical Debt:**
- איזה קיצורי דרך נלקחו?
- מה צריך לתקן בעתיד?

**הוורקפלואו מזהה דפוסים:**
- "בעיית authentication הופיעה ב-3 מתוך 5 סיפורים"
- "Error handling היה נושא ב-code review של כל סיפור"

#### שלב 3: טעינת רטרוספקטיבה קודמת

אם קיימת רטרוספקטיבה של האפיק הקודם:
- קורא אותה במלואה
- בודק אם עמדנו בפריטי הפעולה שהתחייבנו
- מזהה לקחים שיישמנו (או לא יישמנו)

**זה יוצר accountability** - לא רק לדבר על שיפורים, אלא לבדוק אם עשינו אותם!

#### שלב 4: תצוגה מקדימה של האפיק הבא

הוורקפלואו מנסה לטעון את האפיק הבא (Epic N+1) ובודק:
- מה מתוכנן?
- מה התלויות באפיק שזה עתה סיימנו?
- מה הפערים שצריך למלא לפני שמתחילים?

#### שלבים 5-6: ישיבת הרטרוספקטיבה עם הצוות (Party Mode!)

**זה החלק המרכזי!** הוורקפלואו מריץ ישיבה אינטראקטיבית עם כל האגנטים.

**המשתתפים:**
- Bob (Scrum Master) - מנחה את הישיבה
- Alice (Product Owner)
- Charlie (Senior Dev)
- Dana (QA Engineer)
- Elena (Junior Dev)
- ואתה! ({user_name} - Project Lead)

**מבנה הישיבה:**

**א. פתיחה והקשר:**
Bob מציג סיכום של האפיק: מטריקות, הישגים, אתגרים.

**ב. מה היה טוב:**
```
Bob: "בואו נתחיל עם הדברים הטובים. מה עבד טוב באפיק הזה?"

Alice: "זרימת האימות שמסרנו עלתה על הציפיות. משוב המשתמשים היה מאוד חיובי."

Charlie: "אסטרטגיית ה-caching שיישמנו ב-Story 3 היתה מהפכה. קיצצנו 60% קריאות API!"

Bob: "{user_name}, מה בלט לך כטוב באפיק הזה?"
[אתה עונה ← זה interactive!]
```

**ג. מה היה קשה:**
```
Elena: "נתקעתי עם ה-database migrations ב-Story 5. לקח לי כמעט ספרינט שלם..."

Charlie: [מגן] "רגע, הdocs שכתבתי היו ברורים לחלוטין!"

Alice: [מתוסכלת] "זה בגלל שהדרישות השתנו באמצע!"

Bob: [מתערב] "בואו ננתח את זה. {user_name}, יש לך נקודת מבט על המצב הזה?"
[אתה עונה ← עוזר לפתור את הקונפליקט]
```

זה ישיבה **אמיתית** עם אנשים אמיתיים, אמוציות, חילוקי דעות, ופתרונות.

**ד. מעקב אחר רטרו קודמת:**
```
Bob: "באפיק הקודם התחייבנו ל-4 action items."
Bob: "השלמנו 2, התקדמנו ב-1, לא טיפלנו ב-1."
Charlie: "איזה לא טיפלנו?"
Bob: "נדבר על זה. יכול להיות שזה הסביר אתגרים באפיק הזה."
```

#### שלב 7: הכנה לאפיק הבא - דיון אינטראקטיבי

```
Bob: "אפיק 2 מגיע: 'User Dashboard'"
Bob: "האם אנחנו מוכנים? מה צריך להכין?"

Alice: "צריך לוודא ש-authentication מאפיק 1 יציב לפני שבונים עליו."

Charlie: "יש לי חוב טכני מאפיק 1 שיתפוצץ אם לא נטפל בו לפני אפיק 2."

Dana: "צריך test infrastructure חדש, אחרת יהיה אותו צוואר בקבוק כמו ב-Story 4."

Bob: "{user_name}, הצוות מעלה חששות. מה דעתך על המוכנות שלנו?"
[אתה עונה ← מחליט את הגישה]
```

הוורקפלואו עוזר לצוות למצוא איזון בין לחצים עסקיים למציאות טכנית.

#### שלב 8: סינתזת פריטי פעולה

```
Bob: "בואו נתפוס action items קונקרטיים."

**Process Improvements:**
1. הוסף validation session לפני כל migration
   Owner: Charlie
   Deadline: לפני אפיק 2
   
**Technical Debt:**
1. רפקטור של authentication middleware
   Owner: Charlie
   Priority: HIGH
   Estimated: 8 שעות

**Team Agreements:**
- אם requirements משתנות, לעצור ולעדכן את כולם לפני שממשיכים

Bob: "{user_name}, האם ה-priority של debt item 1 צריך להיות HIGH?"
[אתה עונה ← מחליט priorities]
```

**אם יש גילויים משמעותיים:**
```
🚨 SIGNIFICANT DISCOVERY ALERT 🚨

Bob: "{user_name}, צריך לסמן משהו חשוב."
Bob: "באפיק 1 גילינו שהאדריכלות של ה-API לא מתאימה לאפיק 2."

**המלצה:** צריך epic planning review session לפני שמתחילים אפיק 2.

Charlie: "אם נתחיל את אפיק 2 כמו שהוא, ניתקע מהר."
```

#### שלב 9: בדיקת מוכנות קריטית

הוורקפלואו בודק שהאפיק **באמת** מוכן:

```
Bob: "{user_name}, בואו נעשה readiness check."

**Testing & Quality:** האם עשינו regression testing מלא?
**Deployment:** האם האפיק deployed לפרודקשן?
**Stakeholder Acceptance:** האם הלקוח ראה ואישר?
**Technical Health:** האם הקוד יציב?
**Unresolved Blockers:** האם יש בעיות שעלולות להשפיע על אפיק 2?
```

#### שלב 10-12: סגירה, שמירה, עדכון

הוורקפלואו:
1. מסכם את הישיבה עם תובנות מרכזיות
2. שומר את מסמך הרטרוספקטיבה ב-`docs/retrospectives/`
3. מעדכן את `sprint-status.yaml` - מסמן retrospective = "done"

### 💡 דוגמה מעשית - רטרו מלא

**תרחיש:** סיימת Epic 1 - User Authentication (5 סיפורים).

```
1. הפעלת retrospective
2. הוורקפלואו מזהה: "Epic 1 הושלם, כל 5 הסיפורים במצב done"
3. ניתוח סיפורים:
   - מצא: "3 מתוך 5 סיפורים נתקלו בבעיות API"
   - מצא: "Error handling היה נושא חוזר ב-code reviews"
   - מצא: "Story 3 היה breakthrough - caching strategy"
4. טעינת רטרו קודמת: אין (זה Epic 1, הראשון)
5. תצוגה מקדימה Epic 2: Dashboard - תלוי ב-authentication של Epic 1
6. ישיבת רטרו:
   - מה טוב: Caching, team collaboration, UX quality
   - מה קשה: API issues, migration problems, requirements changes
   - {user_name} משתתף בדיון ← עוזר לפתור קונפליקטים
7. הכנה לאפיק 2:
   - צריך: רפקטור middleware (8 שעות)
   - צריך: test infrastructure (12 שעות)
   - החלטה: prep sprint של שבוע לפני Epic 2
8. Action items:
   - 4 process improvements
   - 2 technical debt items
   - 3 team agreements
9. Readiness check:
   - Testing: ✅ Done
   - Deployment: ⚠️ Scheduled for next week
   - Stakeholder: ✅ Approved
   - Tech Health: ⚠️ Needs middleware refactor
10. סגירה: Bob מסכם, שומר מסמך
11. עדכון sprint-status: epic-1-retrospective = "done"
```

### ⚠️ מתי להריץ רטרוספקטיבה?

**כן - הרץ רטרוספקטיבה כאשר:**
- ✅ סיימת אפיק שלם (Epic)
- ✅ לפני שמתחיל אפיק חדש
- ✅ אחרי milestone משמעותי (גם אם לא אפיק מלא)
- ✅ אחרי sprint משבר או אתגר גדול

**לא - אל תריץ רטרוספקטיבה כאשר:**
- ❌ באמצע אפיק (חכה שיסתיים)
- ❌ אחרי כל סיפור (יותר מדי רטרוספקטיבות = עייפות)
- ❌ לפני שיש מה לסכם (צריך לפחות 3-4 סיפורים)

### 🎯 טיפים לרטרוספקטיבה יעילה

1. **צור סביבה בטוחה** - אין האשמות, רק למידה
2. **היה ספציפי** - "Error handling היה בעיה ב-3 סיפורים" עדיף מ"היו בעיות"
3. **עקוב אחר action items** - אל תתחייב למה שלא תעשה
4. **תן לצוות לדבר** - אתה Project Lead, אבל הצוות יודע מה קרה בפועל
5. **תבדוק מוכנות לאפיק הבא** - אל תתחיל אפיק חדש עם פצצות מתקתקות מהאפיק הקודם
6. **תתעד הכל** - הרטרוספקטיבה עצמה תהיה valuable בעתיד

### 🔗 קשר בין correct-course ל-retrospective

**correct-course** ו-**retrospective** עובדים ביחד:

- **במהלך אפיק:** אם יש בעיה → `correct-course` → מתקנים מיד
- **אחרי אפיק:** `retrospective` → בודקים אם צריך לעשות correct-course **לפני האפיק הבא**

**דוגמה:**
1. באפיק 1, ריצת `correct-course` כי גילית שצריך 2FA
2. באפיק 1 retrospective, מגלים שה-authentication architecture לא תומכת באפיק 2
3. ב-retrospective מחליטים: צריך לרוץ `correct-course` על האפיק הבא!

---

## 🎓 סיכום - Phase 4 Management

**correct-course:**
- מתי: כשיש בעיה/שינוי משמעותי **במהלך** הספרינט
- מה: מנתח השפעה, מציע פתרונות, מעדכן תכניות
- פלט: Sprint Change Proposal

**retrospective:**
- מתי: **אחרי** שמסיימים אפיק
- מה: מסכם, לומד, מתכנן לאפיק הבא
- פלט: מסמך רטרוספקטיבה + action items

**שניהם ביחד:** עוזרים לצוות ללמוד, להשתפר, ולהיות מוכנים לאתגרים הבאים! 🚀

---

## 📚 קישורים נוספים

- [חזרה לחלק 3A: Phase 3 Solutioning](./03-workflows-part-3a-solutioning.md)
- [חזרה לחלק 3B: Phase 4 Sprint Setup](./03-workflows-part-3b-sprint-setup.md)
- [חזרה לחלק 3C: Phase 4 Development](./03-workflows-part-3c-development.md) *(טרם נוצר)*
- [חזרה למדריך ראשי](./README.md)

---

</div>

